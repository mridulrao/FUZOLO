{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static 'css/slots.css' %}">

    <script>
        var URL = "{% url 'booking-slots' %}";
        var slots = '{{ slots.slots }}';


        //slots = slots.replace('&#x27;', '')
        //slots = slots.replace('&#x27;', '')
        //console.log(slots);

        const mapObj = {
            '&#x27;': "",
        };

        slots = slots.replace(/\&\#x27\;/gi, matched => mapObj[matched]);

        re = /\[+(.*?)\], \[(.*?)\], \[(.*?)\]/;

        var day1 = slots.match(re)[1];
        var day2 = slots.match(re)[2];
        var day3 = slots.match(re)[3];

        slot_count = 0;
        slot_list = new Array(3)
        for(let i = 0; i < 3; i++){
            slot_list[i] = new Array();
        }

        function redirect_funtion() 
        {
            top.location = "{% url 'booking-confirm' %}";
        }

        function submit_slot_list()
        {
            var data = {'Selected_Slots': slot_list};
            $.post(URL, data);
        }
    </script>

</head>
<body>
    <table>
        <tr>
            <td>Date</td>
            <td>Date</td>
            <td>Date</td>
        </tr>

        <tr>
            <td>
            <button class="slot_button" id='1' onclick="changeClass(this.id);">12:00 AM</button>
            <button class="slot_button" id='2' onclick="changeClass(this.id);">12:30 AM</button>
            <button class="slot_button" id='3' onclick="changeClass(this.id);">1:00 AM</button>
            <button class="slot_button" id='4' onclick="changeClass(this.id);">1:30 AM</button>
            <button class="slot_button" id='5' onclick="changeClass(this.id);">2:00 AM</button>
            <button class="slot_button" id='6' onclick="changeClass(this.id);">2:30 AM</button>
            <button class="slot_button" id='7' onclick="changeClass(this.id);">3:00 AM</button>
            <button class="slot_button" id='8' onclick="changeClass(this.id);">3:30 AM</button>
            <button class="slot_button" id='9' onclick="changeClass(this.id);">4:00 AM</button>
            <button class="slot_button" id='10' onclick="changeClass(this.id);">4:30 AM</button>
            <button class="slot_button" id='11' onclick="changeClass(this.id);">5:00 AM</button>
            <button class="slot_button" id='12' onclick="changeClass(this.id);">5:30 AM</button>
            <button class="slot_button" id='13' onclick="changeClass(this.id);">6:00 AM</button>
            <button class="slot_button" id='14' onclick="changeClass(this.id);">6:30 AM</button>
            <button class="slot_button" id='15' onclick="changeClass(this.id);">7:00 AM</button>
            <button class="slot_button" id='16' onclick="changeClass(this.id);">7:30 AM</button>
            <button class="slot_button" id='17' onclick="changeClass(this.id);">8:00 AM</button>
            <button class="slot_button" id='18' onclick="changeClass(this.id);">8:30 AM</button>
            <button class="slot_button" id='19' onclick="changeClass(this.id);">9:00 AM</button>
            <button class="slot_button" id='20' onclick="changeClass(this.id);">9:30 AM</button>
            <button class="slot_button" id='21' onclick="changeClass(this.id);">10:00 AM</button>
            <button class="slot_button" id='22' onclick="changeClass(this.id);">10:30 AM</button>
            <button class="slot_button" id='23' onclick="changeClass(this.id);">11:00 AM</button>
            <button class="slot_button" id='24' onclick="changeClass(this.id);">11:30 AM</button>
            <button class="slot_button" id='25' onclick="changeClass(this.id);">12:00 PM</button>
            <button class="slot_button" id='26' onclick="changeClass(this.id);">12:30 PM</button>
            <button class="slot_button" id='27' onclick="changeClass(this.id);">1:00 PM</button>
            <button class="slot_button" id='28' onclick="changeClass(this.id);">1:30 PM</button>
            <button class="slot_button" id='29' onclick="changeClass(this.id);">2:00 PM</button>
            <button class="slot_button" id='30' onclick="changeClass(this.id);">2:30 PM</button>
            <button class="slot_button" id='31' onclick="changeClass(this.id);">3:00 PM</button>
            <button class="slot_button" id='32' onclick="changeClass(this.id);">3:30 PM</button>
            <button class="slot_button" id='33' onclick="changeClass(this.id);">4:00 PM</button>
            <button class="slot_button" id='34' onclick="changeClass(this.id);">4:30 PM</button>
            <button class="slot_button" id='35' onclick="changeClass(this.id);">5:00 PM</button>
            <button class="slot_button" id='36' onclick="changeClass(this.id);">5:30 PM</button>
            <button class="slot_button" id='37' onclick="changeClass(this.id);">6:00 PM</button>
            <button class="slot_button" id='38' onclick="changeClass(this.id);">6:30 PM</button>
            <button class="slot_button" id='39' onclick="changeClass(this.id);">7:00 PM</button>
            <button class="slot_button" id='40' onclick="changeClass(this.id);">7:30 PM</button>
            <button class="slot_button" id='41' onclick="changeClass(this.id);">8:00 PM</button>
            <button class="slot_button" id='42' onclick="changeClass(this.id);">8:30 PM</button>
            <button class="slot_button" id='43' onclick="changeClass(this.id);">9:00 PM</button>
            <button class="slot_button" id='44' onclick="changeClass(this.id);">9:30 PM</button>
            <button class="slot_button" id='45' onclick="changeClass(this.id);">10:00 PM</button>
            <button class="slot_button" id='46' onclick="changeClass(this.id);">10:30 PM</button>
            <button class="slot_button" id='47' onclick="changeClass(this.id);">11:00 PM</button>
            <button class="slot_button" id='48' onclick="changeClass(this.id);">11:30 PM</button>
            <button class="slot_button" id='49' onclick="changeClass(this.id);">11:59 PM</button>
            </td>

            <td>
            <button class="slot_button" id='50' onclick="changeClass(this.id);">12:00 AM</button>
            <button class="slot_button" id='51' onclick="changeClass(this.id);">12:30 AM</button>
            <button class="slot_button" id='52' onclick="changeClass(this.id);">1:00 AM</button>
            <button class="slot_button" id='53' onclick="changeClass(this.id);">1:30 AM</button>
            <button class="slot_button" id='54' onclick="changeClass(this.id);">2:00 AM</button>
            <button class="slot_button" id='55' onclick="changeClass(this.id);">2:30 AM</button>
            <button class="slot_button" id='56' onclick="changeClass(this.id);">3:00 AM</button>
            <button class="slot_button" id='57' onclick="changeClass(this.id);">3:30 AM</button>
            <button class="slot_button" id='58' onclick="changeClass(this.id);">4:00 AM</button>
            <button class="slot_button" id='59' onclick="changeClass(this.id);">4:30 AM</button>
            <button class="slot_button" id='60' onclick="changeClass(this.id);">5:00 AM</button>
            <button class="slot_button" id='61' onclick="changeClass(this.id);">5:30 AM</button>
            <button class="slot_button" id='62' onclick="changeClass(this.id);">6:00 AM</button>
            <button class="slot_button" id='63' onclick="changeClass(this.id);">6:30 AM</button>
            <button class="slot_button" id='64' onclick="changeClass(this.id);">7:00 AM</button>
            <button class="slot_button" id='65' onclick="changeClass(this.id);">7:30 AM</button>
            <button class="slot_button" id='66' onclick="changeClass(this.id);">8:00 AM</button>
            <button class="slot_button" id='67' onclick="changeClass(this.id);">8:30 AM</button>
            <button class="slot_button" id='68' onclick="changeClass(this.id);">9:00 AM</button>
            <button class="slot_button" id='69' onclick="changeClass(this.id);">9:30 AM</button>
            <button class="slot_button" id='70' onclick="changeClass(this.id);">10:00 AM</button>
            <button class="slot_button" id='71' onclick="changeClass(this.id);">10:30 AM</button>
            <button class="slot_button" id='72' onclick="changeClass(this.id);">11:00 AM</button>
            <button class="slot_button" id='73' onclick="changeClass(this.id);">11:30 AM</button>
            <button class="slot_button" id='74' onclick="changeClass(this.id);">12:00 PM</button>
            <button class="slot_button" id='75' onclick="changeClass(this.id);">12:30 PM</button>
            <button class="slot_button" id='76' onclick="changeClass(this.id);">1:00 PM</button>
            <button class="slot_button" id='77' onclick="changeClass(this.id);">1:30 PM</button>
            <button class="slot_button" id='78' onclick="changeClass(this.id);">2:00 PM</button>
            <button class="slot_button" id='79' onclick="changeClass(this.id);">2:30 PM</button>
            <button class="slot_button" id='80' onclick="changeClass(this.id);">3:00 PM</button>
            <button class="slot_button" id='81' onclick="changeClass(this.id);">3:30 PM</button>
            <button class="slot_button" id='82' onclick="changeClass(this.id);">4:00 PM</button>
            <button class="slot_button" id='83' onclick="changeClass(this.id);">4:30 PM</button>
            <button class="slot_button" id='84' onclick="changeClass(this.id);">5:00 PM</button>
            <button class="slot_button" id='85' onclick="changeClass(this.id);">5:30 PM</button>
            <button class="slot_button" id='86' onclick="changeClass(this.id);">6:00 PM</button>
            <button class="slot_button" id='87' onclick="changeClass(this.id);">6:30 PM</button>
            <button class="slot_button" id='88' onclick="changeClass(this.id);">7:00 PM</button>
            <button class="slot_button" id='89' onclick="changeClass(this.id);">7:30 PM</button>
            <button class="slot_button" id='90' onclick="changeClass(this.id);">8:00 PM</button>
            <button class="slot_button" id='91' onclick="changeClass(this.id);">8:30 PM</button>
            <button class="slot_button" id='92' onclick="changeClass(this.id);">9:00 PM</button>
            <button class="slot_button" id='93' onclick="changeClass(this.id);">9:30 PM</button>
            <button class="slot_button" id='94' onclick="changeClass(this.id);">10:00 PM</button>
            <button class="slot_button" id='95' onclick="changeClass(this.id);">10:30 PM</button>
            <button class="slot_button" id='96' onclick="changeClass(this.id);">11:00 PM</button>
            <button class="slot_button" id='97' onclick="changeClass(this.id);">11:30 PM</button>
            <button class="slot_button" id='98' onclick="changeClass(this.id);">11:59 PM</button>
            </td>

            <td>
            <button class="slot_button" id='99' onclick="changeClass(this.id);">12:00 AM</button>
            <button class="slot_button" id='100' onclick="changeClass(this.id);">12:30 AM</button>
            <button class="slot_button" id='101' onclick="changeClass(this.id);">1:00 AM</button>
            <button class="slot_button" id='102' onclick="changeClass(this.id);">1:30 AM</button>
            <button class="slot_button" id='103' onclick="changeClass(this.id);">2:00 AM</button>
            <button class="slot_button" id='104' onclick="changeClass(this.id);">2:30 AM</button>
            <button class="slot_button" id='105' onclick="changeClass(this.id);">3:00 AM</button>
            <button class="slot_button" id='106' onclick="changeClass(this.id);">3:30 AM</button>
            <button class="slot_button" id='107' onclick="changeClass(this.id);">4:00 AM</button>
            <button class="slot_button" id='108' onclick="changeClass(this.id);">4:30 AM</button>
            <button class="slot_button" id='109' onclick="changeClass(this.id);">5:00 AM</button>
            <button class="slot_button" id='110' onclick="changeClass(this.id);">5:30 AM</button>
            <button class="slot_button" id='111' onclick="changeClass(this.id);">6:00 AM</button>
            <button class="slot_button" id='112' onclick="changeClass(this.id);">6:30 AM</button>
            <button class="slot_button" id='113' onclick="changeClass(this.id);">7:00 AM</button>
            <button class="slot_button" id='114' onclick="changeClass(this.id);">7:30 AM</button>
            <button class="slot_button" id='115' onclick="changeClass(this.id);">8:00 AM</button>
            <button class="slot_button" id='116' onclick="changeClass(this.id);">8:30 AM</button>
            <button class="slot_button" id='117' onclick="changeClass(this.id);">9:00 AM</button>
            <button class="slot_button" id='118' onclick="changeClass(this.id);">9:30 AM</button>
            <button class="slot_button" id='119' onclick="changeClass(this.id);">10:00 AM</button>
            <button class="slot_button" id='120' onclick="changeClass(this.id);">10:30 AM</button>
            <button class="slot_button" id='121' onclick="changeClass(this.id);">11:00 AM</button>
            <button class="slot_button" id='122' onclick="changeClass(this.id);">11:30 AM</button>
            <button class="slot_button" id='123' onclick="changeClass(this.id);">12:00 PM</button>
            <button class="slot_button" id='124' onclick="changeClass(this.id);">12:30 PM</button>
            <button class="slot_button" id='125' onclick="changeClass(this.id);">1:00 PM</button>
            <button class="slot_button" id='126' onclick="changeClass(this.id);">1:30 PM</button>
            <button class="slot_button" id='127' onclick="changeClass(this.id);">2:00 PM</button>
            <button class="slot_button" id='128' onclick="changeClass(this.id);">2:30 PM</button>
            <button class="slot_button" id='129' onclick="changeClass(this.id);">3:00 PM</button>
            <button class="slot_button" id='130' onclick="changeClass(this.id);">3:30 PM</button>
            <button class="slot_button" id='131' onclick="changeClass(this.id);">4:00 PM</button>
            <button class="slot_button" id='132' onclick="changeClass(this.id);">4:30 PM</button>
            <button class="slot_button" id='133' onclick="changeClass(this.id);">5:00 PM</button>
            <button class="slot_button" id='134' onclick="changeClass(this.id);">5:30 PM</button>
            <button class="slot_button" id='135' onclick="changeClass(this.id);">6:00 PM</button>
            <button class="slot_button" id='136' onclick="changeClass(this.id);">6:30 PM</button>
            <button class="slot_button" id='137' onclick="changeClass(this.id);">7:00 PM</button>
            <button class="slot_button" id='138' onclick="changeClass(this.id);">7:30 PM</button>
            <button class="slot_button" id='139' onclick="changeClass(this.id);">8:00 PM</button>
            <button class="slot_button" id='140' onclick="changeClass(this.id);">8:30 PM</button>
            <button class="slot_button" id='141' onclick="changeClass(this.id);">9:00 PM</button>
            <button class="slot_button" id='142' onclick="changeClass(this.id);">9:30 PM</button>
            <button class="slot_button" id='143' onclick="changeClass(this.id);">10:00 PM</button>
            <button class="slot_button" id='144' onclick="changeClass(this.id);">10:30 PM</button>
            <button class="slot_button" id='145' onclick="changeClass(this.id);">11:00 PM</button>
            <button class="slot_button" id='146' onclick="changeClass(this.id);">11:30 PM</button>
            <button class="slot_button" id='147' onclick="changeClass(this.id);">11:59 PM</button>
            </td>

        </tr>
</table>

    <a href="#">  
        <input type="submit" onclick = "submit_slot_list(); redirect_funtion();"/>  
    </a>

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script src="{% static 'js/booking_slots.js' %}"></script> 
</body>
</html>
